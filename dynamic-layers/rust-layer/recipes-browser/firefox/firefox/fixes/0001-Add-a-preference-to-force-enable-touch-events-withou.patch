this patch is derived from:

 From b642bce79e83a254e5af9b5c6619307ba22360c1 Mon Sep 17 00:00:00 2001
 From: Takuro Ashie <ashie@clear-code.com>
 Date: Tue, 13 Jun 2017 17:15:45 +0900
 Subject: [PATCH] Add a preference to force enable touch events without APZ
 
 It may be useful for touch devices.
 
 Signed-off-by: Takuro Ashie <ashie@clear-code.com>
 ---
  widget/gtk/nsWindow.cpp | 3 +++
  1 file changed, 3 insertions(+)

Index: firefox-84.0.2/widget/gtk/nsWindow.cpp
===================================================================
--- firefox-84.0.2.orig/widget/gtk/nsWindow.cpp
+++ firefox-84.0.2/widget/gtk/nsWindow.cpp
@@ -491,6 +491,9 @@ nsWindow::nsWindow() {
 
   mLastScrollEventTime = GDK_CURRENT_TIME;
 
+  if (Preferences::GetInt("dom.w3c_touch_events.enabled", 0) == 3)
+    RegisterTouchWindow();
+
   mPendingConfigures = 0;
   mCSDSupportLevel = CSD_SUPPORT_NONE;
   mDrawToContainer = false;
